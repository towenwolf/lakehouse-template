# Lakehouse Template - Environment Variables Example
# Copy this file to .env and customize with your values
# NEVER commit .env files with actual credentials to version control!

# =============================================================================
# GENERAL SETTINGS
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Data paths (adjust for your storage backend)
BRONZE_PATH=data/bronze
SILVER_PATH=data/silver
GOLD_PATH=data/gold

# =============================================================================
# SPARK CONFIGURATION
# =============================================================================

# Spark master URL
SPARK_MASTER=local[*]
# SPARK_MASTER=spark://spark-master:7077
# SPARK_MASTER=yarn

# Spark executor settings
SPARK_EXECUTOR_MEMORY=4g
SPARK_EXECUTOR_CORES=2
SPARK_DRIVER_MEMORY=2g

# =============================================================================
# DATABASE CONNECTIONS
# =============================================================================

# PostgreSQL
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=lakehouse_user
POSTGRES_PASSWORD=change_this_password
POSTGRES_DB=lakehouse

# Redshift
REDSHIFT_HOST=your-cluster.region.redshift.amazonaws.com
REDSHIFT_PORT=5439
REDSHIFT_USER=admin
REDSHIFT_PASSWORD=change_this_password
REDSHIFT_DB=lakehouse

# Snowflake
SNOWFLAKE_ACCOUNT=your-account
SNOWFLAKE_USER=your-user
SNOWFLAKE_PASSWORD=change_this_password
SNOWFLAKE_ROLE=TRANSFORMER
SNOWFLAKE_WAREHOUSE=COMPUTE_WH
SNOWFLAKE_DATABASE=LAKEHOUSE

# =============================================================================
# CLOUD STORAGE
# =============================================================================

# AWS
AWS_ACCESS_KEY_ID=your-access-key-id
AWS_SECRET_ACCESS_KEY=your-secret-access-key
AWS_DEFAULT_REGION=us-east-1
AWS_S3_BUCKET=my-lakehouse-bucket

# Azure
AZURE_STORAGE_ACCOUNT_NAME=your-storage-account
AZURE_STORAGE_ACCOUNT_KEY=your-storage-key
AZURE_CONTAINER_NAME=lakehouse

# GCP
GCP_PROJECT=your-project-id
GCP_KEYFILE_PATH=/path/to/keyfile.json
GCS_BUCKET=my-lakehouse-bucket

# =============================================================================
# ORCHESTRATION
# =============================================================================

# Airflow
AIRFLOW_HOME=/opt/airflow
AIRFLOW__CORE__SQL_ALCHEMY_CONN=postgresql+psycopg2://airflow:airflow@postgres:5432/airflow
AIRFLOW__CELERY__BROKER_URL=redis://redis:6379/0
AIRFLOW__CORE__EXECUTOR=LocalExecutor

# Prefect
PREFECT_API_URL=http://localhost:4200/api
PREFECT_API_KEY=your-prefect-api-key

# Dagster
DAGSTER_HOME=/opt/dagster
DAGSTER_POSTGRES_USER=dagster
DAGSTER_POSTGRES_PASSWORD=change_this_password
DAGSTER_POSTGRES_DB=dagster

# =============================================================================
# MONITORING
# =============================================================================

# Prometheus
PROMETHEUS_GATEWAY=localhost:9091
PROMETHEUS_PUSHGATEWAY=localhost:9091

# Grafana
GRAFANA_URL=http://localhost:3000
GRAFANA_API_KEY=your-grafana-api-key

# Datadog
DATADOG_API_KEY=your-datadog-api-key
DATADOG_APP_KEY=your-datadog-app-key
DATADOG_SITE=datadoghq.com

# =============================================================================
# DATA QUALITY
# =============================================================================

# Quality thresholds
MIN_QUALITY_SCORE=0.85
MAX_NULL_PERCENTAGE=0.05
MAX_DUPLICATE_PERCENTAGE=0.01

# =============================================================================
# ALERTING
# =============================================================================

# Slack
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_CHANNEL=#data-alerts

# Email
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=alerts@example.com
SMTP_PASSWORD=change_this_password
ALERT_EMAIL_TO=team@example.com

# PagerDuty
PAGERDUTY_API_KEY=your-pagerduty-key
PAGERDUTY_SERVICE_KEY=your-service-key

# =============================================================================
# SECURITY
# =============================================================================

# Encryption keys (use strong, randomly generated keys)
ENCRYPTION_KEY=generate_a_secure_random_key_here

# API Keys (if using external services)
API_KEY_SERVICE_A=your-api-key
API_KEY_SERVICE_B=your-api-key

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable features
ENABLE_MONITORING=true
ENABLE_DATA_QUALITY_CHECKS=true
ENABLE_ALERTING=true
ENABLE_LINEAGE_TRACKING=false

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Parallelism settings
MAX_CONCURRENT_TASKS=10
BATCH_SIZE=10000
SHUFFLE_PARTITIONS=200

# Retry settings
MAX_RETRIES=3
RETRY_DELAY_SECONDS=60

# =============================================================================
# DATA LIFECYCLE
# =============================================================================

# Retention periods (in days)
BRONZE_RETENTION_DAYS=90
SILVER_RETENTION_DAYS=180
GOLD_RETENTION_DAYS=365
LOG_RETENTION_DAYS=30

# =============================================================================
# NOTES
# =============================================================================
# 
# Security Best Practices:
# 1. Never commit this file with actual secrets to version control
# 2. Use a secrets manager (AWS Secrets Manager, Azure Key Vault, etc.) in production
# 3. Rotate credentials regularly
# 4. Use different credentials for each environment
# 5. Grant minimum required permissions
# 6. Enable audit logging for credential access
#
# Loading this file:
# - Python: Use python-dotenv package
# - Shell: source .env or export $(cat .env | xargs)
# - Docker: docker run --env-file .env
# - Docker Compose: env_file: .env in docker-compose.yml
#
